<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deview 2015 | Daily Log</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicons/favicon-16x16.png">
    <link rel="shortcut icon" href="../assets/favicons/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://jiyeonseo.github.io/rss.xml" title="Daily Log RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://jiyeonseo.github.io/feed.atom" title="Daily Log Atom Feed">
    <link rel="alternate" type="application/json" href="https://jiyeonseo.github.io/feed.json" title="Daily Log JSON Feed">
    <meta name="description" content="

2015.09.14~ 2015.09.15

이틀동안 Deview에 참석하였다. 스프링캠프2015 이후 국내 컨퍼런스 참관은 오랜만이여서 정말정말 재밌게 들었다.
항상 컨퍼런스 참가할 때 마다 느끼는 것. 세상은 넓고 초고수는 많다.

많은 것들을 배웠던 이틀을 나름의 스케치를 남기며 일단 마무리를 할까 한다.(메모에 가깝다. 오타가 많다)
워낙 한정된 ...">
    
    <link rel="preload" href="/assets/css/0.styles.d9e965bb.css" as="style"><link rel="preload" href="/assets/js/app.ca882463.js" as="script"><link rel="preload" href="/assets/js/4.d48376ce.js" as="script"><link rel="preload" href="/assets/js/1.a7328d07.js" as="script"><link rel="preload" href="/assets/js/43.e741fcb4.js" as="script"><link rel="prefetch" href="/assets/js/100.20349d4f.js"><link rel="prefetch" href="/assets/js/101.337c7ac5.js"><link rel="prefetch" href="/assets/js/102.df0c3b4c.js"><link rel="prefetch" href="/assets/js/103.9ab2bce5.js"><link rel="prefetch" href="/assets/js/104.a8cfe2ac.js"><link rel="prefetch" href="/assets/js/105.fbf41c7d.js"><link rel="prefetch" href="/assets/js/106.137693c5.js"><link rel="prefetch" href="/assets/js/107.7b67094d.js"><link rel="prefetch" href="/assets/js/108.9c79596c.js"><link rel="prefetch" href="/assets/js/109.8f827ec6.js"><link rel="prefetch" href="/assets/js/11.266ec168.js"><link rel="prefetch" href="/assets/js/110.d3557852.js"><link rel="prefetch" href="/assets/js/111.037463d3.js"><link rel="prefetch" href="/assets/js/112.71dfe16b.js"><link rel="prefetch" href="/assets/js/113.98586e30.js"><link rel="prefetch" href="/assets/js/114.b61c2291.js"><link rel="prefetch" href="/assets/js/115.013a015b.js"><link rel="prefetch" href="/assets/js/116.1b44155e.js"><link rel="prefetch" href="/assets/js/117.ba320cb6.js"><link rel="prefetch" href="/assets/js/118.bce8c1cf.js"><link rel="prefetch" href="/assets/js/119.4cfe496d.js"><link rel="prefetch" href="/assets/js/12.8f3a6060.js"><link rel="prefetch" href="/assets/js/120.df3465f8.js"><link rel="prefetch" href="/assets/js/121.2ab0ab3e.js"><link rel="prefetch" href="/assets/js/122.e84ca54f.js"><link rel="prefetch" href="/assets/js/123.c7c4409a.js"><link rel="prefetch" href="/assets/js/124.07b6783e.js"><link rel="prefetch" href="/assets/js/125.b1701c7a.js"><link rel="prefetch" href="/assets/js/126.0d92253e.js"><link rel="prefetch" href="/assets/js/127.007a575d.js"><link rel="prefetch" href="/assets/js/13.9ff4ae05.js"><link rel="prefetch" href="/assets/js/14.215024b0.js"><link rel="prefetch" href="/assets/js/15.0ff47d16.js"><link rel="prefetch" href="/assets/js/16.37e6c0ed.js"><link rel="prefetch" href="/assets/js/17.cbba4f66.js"><link rel="prefetch" href="/assets/js/18.b7e71dfe.js"><link rel="prefetch" href="/assets/js/19.c4464fe9.js"><link rel="prefetch" href="/assets/js/2.f8783da8.js"><link rel="prefetch" href="/assets/js/20.2dc08191.js"><link rel="prefetch" href="/assets/js/21.ff5f7b06.js"><link rel="prefetch" href="/assets/js/22.661f2a84.js"><link rel="prefetch" href="/assets/js/23.cf29033a.js"><link rel="prefetch" href="/assets/js/24.dd6f5bc6.js"><link rel="prefetch" href="/assets/js/25.9d7bdc46.js"><link rel="prefetch" href="/assets/js/26.3b8d6e0b.js"><link rel="prefetch" href="/assets/js/27.80928391.js"><link rel="prefetch" href="/assets/js/28.58a77b17.js"><link rel="prefetch" href="/assets/js/29.7f8113cb.js"><link rel="prefetch" href="/assets/js/3.487971c8.js"><link rel="prefetch" href="/assets/js/30.48f0ed8a.js"><link rel="prefetch" href="/assets/js/31.832b04d7.js"><link rel="prefetch" href="/assets/js/32.f05f003a.js"><link rel="prefetch" href="/assets/js/33.f9295acc.js"><link rel="prefetch" href="/assets/js/34.a80db534.js"><link rel="prefetch" href="/assets/js/35.abe84c23.js"><link rel="prefetch" href="/assets/js/36.4edabe0d.js"><link rel="prefetch" href="/assets/js/37.e7cfc869.js"><link rel="prefetch" href="/assets/js/38.aa1064e1.js"><link rel="prefetch" href="/assets/js/39.06859e09.js"><link rel="prefetch" href="/assets/js/40.7969b128.js"><link rel="prefetch" href="/assets/js/41.7daa36db.js"><link rel="prefetch" href="/assets/js/42.0b1c5b61.js"><link rel="prefetch" href="/assets/js/44.212dc972.js"><link rel="prefetch" href="/assets/js/45.c68048f8.js"><link rel="prefetch" href="/assets/js/46.114afb81.js"><link rel="prefetch" href="/assets/js/47.862c6e14.js"><link rel="prefetch" href="/assets/js/48.c9b2f074.js"><link rel="prefetch" href="/assets/js/49.e7114482.js"><link rel="prefetch" href="/assets/js/5.bcd1442f.js"><link rel="prefetch" href="/assets/js/50.f467528a.js"><link rel="prefetch" href="/assets/js/51.f821ca96.js"><link rel="prefetch" href="/assets/js/52.649435a5.js"><link rel="prefetch" href="/assets/js/53.5b8dc67a.js"><link rel="prefetch" href="/assets/js/54.a0ca167c.js"><link rel="prefetch" href="/assets/js/55.3c3380f0.js"><link rel="prefetch" href="/assets/js/56.18549872.js"><link rel="prefetch" href="/assets/js/57.e19ed683.js"><link rel="prefetch" href="/assets/js/58.79fe55f7.js"><link rel="prefetch" href="/assets/js/59.4db8e029.js"><link rel="prefetch" href="/assets/js/6.49ca5872.js"><link rel="prefetch" href="/assets/js/60.9abd3c2e.js"><link rel="prefetch" href="/assets/js/61.e63ac9bb.js"><link rel="prefetch" href="/assets/js/62.6e924a53.js"><link rel="prefetch" href="/assets/js/63.9f33542a.js"><link rel="prefetch" href="/assets/js/64.38c313d2.js"><link rel="prefetch" href="/assets/js/65.fcfcf532.js"><link rel="prefetch" href="/assets/js/66.5012f3db.js"><link rel="prefetch" href="/assets/js/67.5b57b6b4.js"><link rel="prefetch" href="/assets/js/68.d99d5845.js"><link rel="prefetch" href="/assets/js/69.8107e489.js"><link rel="prefetch" href="/assets/js/7.a66f6791.js"><link rel="prefetch" href="/assets/js/70.27161263.js"><link rel="prefetch" href="/assets/js/71.761b94a6.js"><link rel="prefetch" href="/assets/js/72.531ebc5e.js"><link rel="prefetch" href="/assets/js/73.2c4b9c38.js"><link rel="prefetch" href="/assets/js/74.f50e9025.js"><link rel="prefetch" href="/assets/js/75.95a579c0.js"><link rel="prefetch" href="/assets/js/76.54cac59a.js"><link rel="prefetch" href="/assets/js/77.43aab426.js"><link rel="prefetch" href="/assets/js/78.f19c6ed1.js"><link rel="prefetch" href="/assets/js/79.5758ad17.js"><link rel="prefetch" href="/assets/js/8.b2bf099e.js"><link rel="prefetch" href="/assets/js/80.9a393ba1.js"><link rel="prefetch" href="/assets/js/81.53c49996.js"><link rel="prefetch" href="/assets/js/82.b94db98b.js"><link rel="prefetch" href="/assets/js/83.44f7bcdf.js"><link rel="prefetch" href="/assets/js/84.38740eee.js"><link rel="prefetch" href="/assets/js/85.75d98f53.js"><link rel="prefetch" href="/assets/js/86.cbe5c682.js"><link rel="prefetch" href="/assets/js/87.91edfd8c.js"><link rel="prefetch" href="/assets/js/88.a414f2e3.js"><link rel="prefetch" href="/assets/js/89.a0e02dc8.js"><link rel="prefetch" href="/assets/js/90.8df0fa19.js"><link rel="prefetch" href="/assets/js/91.30c58ca2.js"><link rel="prefetch" href="/assets/js/92.41dc4428.js"><link rel="prefetch" href="/assets/js/93.4dac8c5f.js"><link rel="prefetch" href="/assets/js/94.6f998976.js"><link rel="prefetch" href="/assets/js/95.fa78735e.js"><link rel="prefetch" href="/assets/js/96.46ebbc99.js"><link rel="prefetch" href="/assets/js/97.b91d70bf.js"><link rel="prefetch" href="/assets/js/98.08cf1b1d.js"><link rel="prefetch" href="/assets/js/99.f184a890.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.b53dac77.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9e965bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Daily Log </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/about.html" class="nav-link">About Me</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Daily Log </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/about.html" class="nav-link">About Me</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2015-09-15T00:00:00.000Z">
      2015-09-15
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/etc" data-v-42ccfcd5><span data-v-42ccfcd5>etc</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="deview-2015"><a href="#deview-2015" class="header-anchor">#</a> Deview 2015</h1> <p>2015.09.14~ 2015.09.15</p> <p>이틀동안 Deview에 참석하였다. 스프링캠프2015 이후 국내 컨퍼런스 참관은 오랜만이여서 정말정말 재밌게 들었다.
항상 컨퍼런스 참가할 때 마다 느끼는 것. 세상은 넓고 초고수는 많다.</p> <p>많은 것들을 배웠던 이틀을 나름의 스케치를 남기며 일단 마무리를 할까 한다.(메모에 가깝다. 오타가 많다)
워낙 한정된 시간(50분)에 발표다 보니 대부분 속도도 빠르고 잘 모르는 부분은 잘못된 정보도 있을 수 있다.
(혹 틀린 내용이 있거나 좋은 의견이 있으실 경우 댓글로 남겨주시면 감사하겠습니다!)</p> <p>물론 후에 오픈될 발표 영상이 더 도움이 많이 되겠지만, 많은 발표중 어떤 것들을 들어야 할까. 혹은 다른 사람은 어떤 점을 주목했는가.
에 대해 조금이나마 도움이 되고자 포스팅을 해본다.</p> <p>Deview 공식 페이지 : <a href="http://deview.kr/2015" target="_blank" rel="noopener noreferrer">http://deview.kr/2015<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
발표 slide : <a href="http://deview.kr/2015/schedule" target="_blank" rel="noopener noreferrer">http://deview.kr/2015/schedule<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="https://pbs.twimg.com/media/CO1unuKUsAAXH0d.jpg:large"> <h1 id="day-1"><a href="#day-1" class="header-anchor">#</a> 'Day 1'</h1> <h2 id="_1-네이버-효과툰은-어떻게-만들어졌나"><a href="#_1-네이버-효과툰은-어떻게-만들어졌나" class="header-anchor">#</a> [1] 네이버 효과툰은 어떻게 만들어졌나?</h2> <p>slide : <a href="http://www.slideshare.net/deview/111-52720751" target="_blank">http://www.slideshare.net/deview/111-52720751</a><br></p> <ul><li>스크롤에 디펜던시를 / 타임라인 &gt;&gt; 스크롤에 맞춰서</li></ul> <h4 id="저작툴"><a href="#저작툴" class="header-anchor">#</a> 저작툴</h4> <ul><li>Angularjs + node webkit</li> <li>빠른 개발 가능, 향후 web으로 갈 수 있음.</li></ul> <h4 id="서비스"><a href="#서비스" class="header-anchor">#</a> 서비스</h4> <ul><li>모션 구현.
— 앱 : cocos2dx
— Web Viewer 호환성 확보
— PC wheel &gt;&gt; smooth croll
— 이미지 용량 문제 &gt;&gt; auto crop</li></ul> <h4 id="todo"><a href="#todo" class="header-anchor">#</a> TODO</h4> <ul><li>누구나 쉽게 쓸 저작툴</li> <li>다국어 번역 &gt;&gt; 이미지에서 text 뽑기.</li> <li>flash와 경쟁할 모션 플랫폼.</li></ul> <h4 id="parallax"><a href="#parallax" class="header-anchor">#</a> parallax</h4> <ul><li>고고고, 악의는 없다, 소름</li></ul> <h4 id="하이브리드-개발자의-장점"><a href="#하이브리드-개발자의-장점" class="header-anchor">#</a> 하이브리드 개발자의 장점</h4> <ul><li><p>개발자가 기획을 많이 들어가는 프로젝트</p></li> <li><p>직접 작가의 요구사항 파악</p></li> <li><p>효과툰은 애니메이션이 아니다.</p></li> <li><p>scroll mapping, instantly 등등</p></li></ul> <h4 id="동작-원리"><a href="#동작-원리" class="header-anchor">#</a> 동작 원리</h4> <ul><li><p>json 으로 packaging(위치와 event mapping)<br>
-- AssetManager
-- PageMangeer</p></li> <li><p>scrolll position에 따라.</p></li> <li><p>DOM mode / Canvas mode</p></li> <li><p>최적화 / 안정성 / 호환성</p></li> <li><p>이미지 적절히 자르기
-- 그냥 2048px 이 아니라 공백찾아서 알아서 거기서 자르게</p></li></ul> <h4 id="render-line"><a href="#render-line" class="header-anchor">#</a> render line</h4> <ul><li>가변 최적화 선.</li> <li>모바일 화면 크기마다 최적화선이 다르다</li> <li>ex) mobile 75% 쯤 , PC 85% 쯤</li></ul> <h4 id="스크롤-이벤트-구현"><a href="#스크롤-이벤트-구현" class="header-anchor">#</a> 스크롤 이벤트 구현</h4> <ul><li>PC는 native scroll</li> <li>사파리 7, 웹뷰 scrpit scroll  나머지 아이폰은 native scroll</li> <li>안드로이드 같은 경우는 sciprt, natibe, stillcut, canvas 다양하게 사용하고 잇음.</li></ul> <h3 id="서비스-런칭까지"><a href="#서비스-런칭까지" class="header-anchor">#</a> 서비스 런칭까지</h3> <ul><li>9월 고민 시작 &gt;&gt; 11월 1.0 비슷 릴리즈 &gt;&gt; 서비스준비 4개월</li> <li>개발자 3.5명</li></ul> <h2 id="_2-네이버-효과툰-구현-이야기"><a href="#_2-네이버-효과툰-구현-이야기" class="header-anchor">#</a> [2] 네이버 효과툰 구현 이야기</h2> <p>slide : <a href="http://www.slideshare.net/deview/121-52734801" target="_blank">http://www.slideshare.net/deview/121-52734801</a><br></p> <h4 id="저작툴-2"><a href="#저작툴-2" class="header-anchor">#</a> 저작툴</h4> <ol><li><p>$watch &gt; dirty checking
해결
$emit(‘{event’}) &gt;&gt;
Controller.$on()
$Broadcast</p></li> <li><p>ng-route 메모리 부족<br>
자식 창이 끄고 키고&gt;&gt; 3기가까지 올라갓다.</p></li></ol> <ul><li>html 파일로 직접 접근</li> <li>ui-route 를 더 추천</li></ul> <ol start="3"><li>ng-repeat</li></ol> <ul><li>directive in directive
$scope가 계속 물고가서
안그러면 나중에 노드/리스너 등이 계속 늘어남</li> <li>명시적으로 $destroy 해주어야 함</li></ul> <ol start="4"><li>SVG 렌더링 이슈<br>
ng-show를 같이 사용</li></ol> <h3 id="외부-모듈-사용하여-개발할때의-이슈"><a href="#외부-모듈-사용하여-개발할때의-이슈" class="header-anchor">#</a> 외부 모듈 사용하여 개발할때의 이슈</h3> <ol><li>$scope 변수가 반영되는 조건</li></ol> <ul><li>dom 이벤트
—&gt; $safeApply
in Directive &gt; scope.<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">root.</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord">.</span></span></span></span></span>safeApply</li></ul> <ol start="3"><li><p>undo/redo
opensource   memento
네이버 : memento-promise</p></li> <li><p>psd.js</p></li></ol> <ul><li>문제 한글이름이 깨짐</li> <li>이름이 너무 길면 파싱이 깨짐</li></ul> <blockquote><blockquote><p>python psd-tools
— 한글 레이어 이름 해결
— 긴 height psd 메모리 문제 없음.
— psd 자동 나누기도 가능</p></blockquote></blockquote> <h3 id="unit-test"><a href="#unit-test" class="header-anchor">#</a> unit test</h3> <ul><li>Strider cd 사용</li></ul> <h3 id="test"><a href="#test" class="header-anchor">#</a> test</h3> <ul><li>Protractor</li></ul> <p>문제 발생 &gt;&gt; 노드js 파싱 못함.
화면을 보면서 테스트 코드를 넣고 싶다 &gt;&gt;  자스민jasmine 활용</p> <h3 id="뷰어-이슈"><a href="#뷰어-이슈" class="header-anchor">#</a> 뷰어 이슈</h3> <ul><li>스크롤</li> <li>사운드</li> <li>ie 구버전</li></ul> <ol><li>스크롤</li></ol> <ul><li>스크롤 이벤트 특성의 문제.</li></ul> <blockquote><blockquote><p>스크립트 스크롤 사용
다 움직이니 메모리를 먹어서 최신기기도 버버벅
거대한가 아니라 해당 구간의 작은 를 움직이자.
display:none 하면 reflow 비용이 있지만 display:block으로 레이어 생성 비용이 더 큼으로</p></blockquote></blockquote> <p>적당한 크기로 나눌 필요가 있다
가로 * 세로 = 1024 * 1024 * 3</p> <ul><li>lazy loading
<img> src 지정하는 순간 &gt;&gt; Paint (ImageDecode) 발생 버벅거림이 느껴짐
scrollEnd 이벤트</li></ul> <blockquote><blockquote><p>스크롤이 잠시 멈췃을때 다음 구간 이미지 불러오기 pre-lolad + 미리 IamgeDecode해두기<br>
체감 성능을 올릴수 잇음.</p></blockquote></blockquote> <ul><li><p>GPU 가속을 받는 소성을 사용.</p></li> <li><p>컨텐츠 영역일때만 활성화. 스크립트 스크롤을 비활성화.</p></li></ul> <ol start="2"><li>사운드</li></ol> <ul><li>HTML5 Audio 동시에 여러 리소스 재생 불가능</li> <li>WebAudio Api 사용
: 동시에 여러 사운드 리소스 재상 가능
는 문제는 갤럭시 시리즈.. 리소스가 여러개 겹치면 브라우저 크래시</li></ul> <p>iOS 명시적인 사용자 액션에 의해서만 사운드 재생 가능. (한번만 하면 나중에는 프로그래밍 적으로 가능 &gt;&gt; 첨 시작할떄 아무 소리 없는 오디오를 틀어서 나중에 쓸수 잇게 꼼수)</p> <ul><li><p>자동 재생의 문제 &gt; 갤럭시는 안댐 -_-;</p></li> <li><p>다른 음악 앱 재생이 멈추는 경우.</p></li></ul> <blockquote><blockquote><p>딱 node를 받는 event 순간을 알 수 있음. 맞춰 재생 가능</p></blockquote></blockquote> <ul><li>@webkit-animate르 해결 &gt; 미리 set
ccss파일로 선언 &gt;&gt; ie8~ie9의 경우 자바스크립트 정규식으로 분석하여 스크립트로 해결</li></ul> <h2 id="_3-packetbeat-과-elasticsearch-를-이용한-실시간-모니터링"><a href="#_3-packetbeat-과-elasticsearch-를-이용한-실시간-모니터링" class="header-anchor">#</a> [3] Packetbeat 과 Elasticsearch 를 이용한 실시간 모니터링</h2> <p>slide : <a href="http://www.slideshare.net/deview/131-packetbeat-elasticsearch" target="_blank">http://www.slideshare.net/deview/131-packetbeat-elasticsearch</a><br></p> <p>layer 에서 모든 프로토콜을 받아서 실제 pysical protocol 몸을 받아서
request와 reponse를 해서</p> <p>no- pipiline의 경우 꼬리에 꼬리를 물고 잇어서 쉽지만
pipelining이 되어있으면 request랑 response 페어를 맞춰줘야함.</p> <p>따라서 모든 request-response pair json obj를 만들어주고
그 안에 관련 info들을 넣음. ( ex. response code, get method 등등)</p> <p>SQL / DNS &gt;&gt; json 으로 info packaging</p> <ul><li><p>packetbeat로 만든 data &gt;  elastic search cluster &gt; cabin / dashboard
(기존 logstash와 비슷?)</p></li> <li><p>packet beat : listens to the beat of the network packets</p></li> <li><p>Top beat : operating system metrics</p></li> <li><p>File Beat : logs</p></li> <li><p>metrics beat : internal beats of systems via apis</p></li> <li><p>TOP BEAT</p></li> <li><p>sample :  output obj : Device name. mount point 등등</p></li> <li><p>File beat</p></li> <li><p>based &gt; Logstash-forwarder spice code</p></li> <li><p>sample : log level, 등등</p></li> <li><p>libbeat &gt; common</p></li> <li><p>go library</p></li> <li><p>ligging, handling  등등. enable to fork?</p></li> <li><p>deployment</p></li> <li><p>send to log stash</p></li> <li><p>Date histogram</p></li> <li><p>Percentiles aggregation &gt;&gt; can get average &gt;&gt; approximate values, T-digest</p></li> <li><p>date_time + percentiles response  &gt;&gt; can be combinable</p></li> <li><p>Latency histogram</p></li> <li><p>response time repartition 리스폰스 얼마나 걸렷는지 애버리지 알랴주는건가?</p></li> <li><p>kibana config 제공</p></li> <li><p>Pipieline aggregations</p></li> <li><p>new in elasticsearch 2.0</p></li></ul> <ol><li>derivative aggregation</li></ol> <ul><li>constantly gworing /</li> <li>caculating moving average.</li></ul> <p>오래된 데이터는 important를 낮춰서 계산. 최신이 더 중요한 data
수집된 데이터와, 무빙 에버리지, threshold, mean</p> <p>파도 모양 트랜드의 경우</p> <ul><li>문제는 average/예측이 늦음. 실제 일어나는것 보다.</li></ul> <blockquote><blockquote><p>cyclic trenad
그래서 &gt;&gt; Holt-Winters(triple exponential) model works better for seasonal data
데모 http://demo.elastic.co/packetbeat</p></blockquote></blockquote> <h4 id="q-a"><a href="#q-a" class="header-anchor">#</a> Q&amp;A</h4> <ol><li>why go?</li></ol> <ul><li>cpu/memory 를 많이 쓰고 싶지 않았다.</li> <li>자바는 너무 무거워</li> <li>파이썬/루비는 너무 느려</li> <li>씨 &gt;&gt; 너무 어려웡. 오래걸릴것 같아.</li> <li>고 &gt;&gt; 굿 랭기지</li> <li>여러 플랫폼에 쓰여야함. &gt;&gt; 따로 deployment를 해야하지만. supportable</li> <li>logstash를 사용 하는게 편하지만 만약 json parser를 뭐 만들면 뭐 쓸 수 잇긴 허지</li></ul> <ol start="2"><li>aggregation</li></ol> <ul><li>모든 aggregation을 직접 custom해서 쓸 수 있다.</li> <li>예로 보여준것은 standard 뿐이고 직접 맞춰 할수 잇다.</li></ul> <ol start="3"><li>Flume 이용중 flume vs .filebeat</li></ol> <ul><li>elastic search 를 붙히기 쉽다.</li> <li>simple</li> <li>flume의 검색?(이게 뭔지 안들렷..ㅠ) 은 엘라스틱보다 느리다.</li></ul> <ol start="4"><li>다운타임동안 어케 처리할꺼임.</li></ol> <ul><li>ping을 계속 날림. &gt; 만약 missing data가 잇는지 확인</li> <li>도커 지원 함</li></ul> <ol start="5"><li>performance, benchmark?</li></ol> <ul><li>pretty row resouces</li> <li>지금은 샘플을 auto로 가지고 잇으면서 하지만 앞으로는 좀더 주요한 데이터를 가지고 있고 아닌건 drop data 를 할 수 있도록</li></ul> <h2 id="_4-react-everywhere"><a href="#_4-react-everywhere" class="header-anchor">#</a> [4] React Everywhere</h2> <p>slide : <a href="http://www.slideshare.net/deview/141-react-everywhere" target="_blank">http://www.slideshare.net/deview/141-react-everywhere</a><br></p> <ul><li>믿고 듣는 초고수</li></ul> <h4 id="react"><a href="#react" class="header-anchor">#</a> React</h4> <ul><li>npm으로 설치</li> <li>babel로 하위 커버</li></ul> <p><code>&gt;&gt; babel-core/browser 로 translate</code>
— jsx가 아니네  &gt;&gt; 0.14 부터 폐기 --&gt; 나도 바꿔야 겟다.</p> <ul><li><p>관심사의 분리</p></li> <li><p>예전에 뷰와 로직을 분리했던 것을 관심사에 따라 분리시켰다</p></li> <li><p>Angular 의 directive보다 훨씬 쉬움.</p></li> <li><p>state와 props</p></li> <li><p>비교 조정 &gt;&gt; 아직 효율적인 알고리즘 발견 ㄴㄴ</p></li> <li><p>휴리스틱을 이용해 현실적인 효율을 찾아낸다 &gt;&gt; 일반적 사용할때 문제를 없앰</p></li> <li><p>virtual dom</p></li> <li><p>virtual dom에서 동일 레벨끼리 비교하여 필요한 부분만</p></li> <li><p>같은 컴포넌트는 그대로 사용(효율성)  아닌경우에는 다시 그린다</p></li> <li><p>key 가 없는 컴포넌트는 철번쨰 요소부터 재사용</p></li> <li><p>list에서는 key를 사용하는게 더 효율적 &gt;&gt;&gt; 가끔 Key 안해주면 계속 warn 해댐...
어케 버츄어 돔이 구현되엇는지 slide 링크 확인</p></li> <li><p>Life Cycle</p></li> <li><p>componentwillmount —&gt;—&gt;— willunmount (공식페이지에 있는 내용이니 참고하자)</p></li></ul> <h4 id="웹팩-핫모듈대체-유니버셜-랜더링"><a href="#웹팩-핫모듈대체-유니버셜-랜더링" class="header-anchor">#</a> 웹팩/핫모듈대체/유니버셜 랜더링</h4> <ul><li><p>Webpack</p></li> <li><p>nescape 3,0 대 이후로 ? require module 가 음스짐..</p></li> <li><p>requirejs로 하는 안되나???</p></li> <li><p>비슷한 다른거 browserify</p></li> <li><p>의존석에 맞게 static asset으로 변환
-- commonjs 와 AMD 모두 지원</p></li></ul> <ul><li>핫 모듈 대체를 이용</li> <li>watch를 하거나, 리빌드를 하거나 뭐 이런거.를 기존에 해왓지</li> <li>핫 모듈 대체를 이용하면 실시간으로 기능을 갱신 가능 &gt;&gt; 오오오 스고이 써봐야겟다!!</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> webpack
$ babel-core 바벨 번역기 <span class="token punctuation">(</span>dev에 사용하기 위해서<span class="token punctuation">)</span>
$ babel-loader 바벨 로더 <span class="token punctuation">(</span> 웹팩에서 바벨을 수행하기 위해서<span class="token punctuation">)</span>
$ react
</code></pre></div><p>webpack.config.js</p> <div class="language-js extra-class"><pre class="language-js"><code> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">emtry</span> <span class="token operator">:</span> <span class="token punctuation">{</span>진입하는 파일 ex<span class="token punctuation">)</span> <span class="token punctuation">.</span>hello<span class="token punctuation">.</span>jsx<span class="token punctuation">}</span> <span class="token punctuation">,</span>
     <span class="token literal-property property">output</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span> <span class="token operator">:</span> <span class="token punctuation">{</span>_dirname<span class="token operator">+</span> <span class="token operator">/</span>build<span class="token punctuation">}</span>
          <span class="token literal-property property">filenaem</span> <span class="token operator">:</span> <span class="token punctuation">{</span>hello<span class="token punctuation">.</span>js<span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">module</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loaders</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">.</span>jsx<span class="token operator">?</span>로 끝나는 파일을  node_module 파일들을 압ㅇㅇ압축
          <span class="token punctuation">]</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>별도의 jsx 파일에서는 CommonJS 방식으로 react 참조해야함.</p> <p>실행</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ webpack
$ webpack <span class="token parameter variable">-w</span> <span class="token punctuation">(</span>watch<span class="token punctuation">)</span>
</code></pre></div><p>ES6 style</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React form ‘react’<span class="token punctuation">;</span>                                         <span class="token comment">// ES6 import</span>
<span class="token keyword">class</span> <span class="token class-name">HelloClass</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>                <span class="token comment">// 상속</span>
     <span class="token function">render</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>장점 : 훨씬 깔끔해보임 익숙한 class모델</li> <li>단점 : 이벤트 전파 부분이나 기존과 다름.</li> <li>확인을 좀 더 한뒤 넘어가는게 더 좋을듯.</li></ul> <h4 id="hot-module-replacement-핫-모듈-대체"><a href="#hot-module-replacement-핫-모듈-대체" class="header-anchor">#</a> Hot module replacement 핫 모듈 대체</h4> <ul><li>동적으로 코드 모듈 교체 기법</li></ul> <ul><li><p>업데이트 메니페스트 json</p></li> <li><p>하나이상 청크 가 업뎃되면</p></li> <li><p>파일 하나? 가 청크
&quot;웹 소켓&quot;이 열려서 작업햇던 청크를 핫모듈에게 알려주고 그때마다 적절한 용량으로 상채 보관등을 하며 업데이트가 된다.
ㅣ플레이스 없이 알아서 바꿔줌.</p></li> <li><p>리액트/플럭스/리덕스 프레임워크에 거의 잇음..</p></li> <li><p>모듈 단위로 라이브 리로드가능.</p></li> <li><p>그때그떄 매니페스트 만들어야함 &gt;&gt; 고로 직접 만들기 힘듬 -_- 이미 있는걸 사용하자 ..</p></li> <li><p>ex ) React HMR</p></li> <li><p>loaders : “react-hot” &lt;&lt; Dan 로더깍는 노인</p></li></ul> <h4 id="universal-rendering"><a href="#universal-rendering" class="header-anchor">#</a> Universal Rendering</h4> <ul><li><p>과거 Front와 Backend가 구분이 나누어져 잇엇음.. ex) Angular 1.x / Express.js</p></li> <li><p>Isomorphic/Universial rendering 백앤드와의 장벽이 무너짐
ex ) React, Angular 2.x</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code> virtual DOM &gt; renderToString  &gt; HTML String
                    &gt; render                &gt; DOM
</code></pre></div><ul><li>demo : 일렉트론</li> <li>리액트 네이티브는 하이브리드가 아님</li></ul> <h2 id="_5-웹-브라우저-감옥에서-살아남기"><a href="#_5-웹-브라우저-감옥에서-살아남기" class="header-anchor">#</a> [5] 웹 브라우저 감옥에서 살아남기</h2> <p>slide : <a href="http://www.slideshare.net/deview/152-52736153" target="_blank">http://www.slideshare.net/deview/152-52736153</a><br></p> <ul><li><p>회사 Entry</p></li> <li><p>HTML5</p></li> <li><p>내부 interpreting  &gt;&gt;  60fps</p></li> <li><p>루프기반의 인터프터여서 클라이언트 연산량이 높아 부하가 높음 (특수사항)</p></li> <li><p>jQuery/angular를 쓰면 안되는 case</p></li> <li><p>selector : sizzle 라이브러리가 돔을 찾아냄.. &gt; sql로 select문으로 찾는거랑 비슷.. 클라이언트가 계산. 난 양심이 없음 막씀.</p></li> <li><p>초당 39만~ 84만 엘레멘트를 찾아야함.</p></li> <li><p>Dom이 복잡하고 업데이트가 잦은 상황에서 jQuery Selector를 거의 사용할수 음슴...</p></li></ul> <blockquote><blockquote><p>그래서 2웨이 바인딩으로 Dom과 Data연동
$digest 루프가 돌면서 $watch list 모델 변경을 dirty-check ( 변화있는 얘를 찾아서 뭐가 변햇는지 보고 data를 변화시킴)  &gt;&gt; 어짜피 비대한 모델에 잦은 변화 &gt;&gt; 초당 3천에서 24만 체크</p></blockquote> <blockquote><p>극도로 느려짐 coz of dirty-check</p></blockquote></blockquote> <h4 id="대안"><a href="#대안" class="header-anchor">#</a> 대안</h4> <ul><li>직접 ViewClass가 DomElement에 property를 줘서 구현.</li> <li>Modal Obj 구현(getter/setter) &gt; observer를 구현 &gt;&gt;&gt; 빨라짐</li></ul> <h4 id="observer-패턴"><a href="#observer-패턴" class="header-anchor">#</a> Observer 패턴</h4> <ul><li><p>getter/setter에 이벤트가 들어오면 observer에게 notify를 날려 바뀜.</p></li> <li><p>연산이 따로 들어가지 않기때문에 빠름</p></li> <li><p>Dom 을 많이 고치지 않는게 빠르게 할 수 잇다</p></li> <li><p>Model Obj 도  Store에 해놓고 listener 등록해서 하면 될듯?</p></li></ul> <h4 id="게임-디자인-패턴을-이용한-웹개발"><a href="#게임-디자인-패턴을-이용한-웹개발" class="header-anchor">#</a> 게임 디자인 패턴을 이용한 웹개발</h4> <ul><li>Entity Component System</li></ul> <ul><li>각각의 엔티티(객체)는 컴포넌트(기능)을 갖는다.</li></ul> <ul><li>엔티티의 기능을 추가하고 싶으면 component를 개발</li></ul> <ol><li>기능 추가가 용이</li> <li>Component 디펜던시 분리 성공 기능이 명확하게 분리</li></ol> <h4 id="단점"><a href="#단점" class="header-anchor">#</a> 단점</h4> <ol><li>초기 개발 공수</li> <li>최적화된 형태구현은 아니다.
ex) 유저 entity의 경우 초기 init만 해주면 되는데 위에서와 같이 초당 몇번씩 같이 update됨</li></ol> <h4 id="웹소켓으로-구현한-웹과-하드웨어"><a href="#웹소켓으로-구현한-웹과-하드웨어" class="header-anchor">#</a> 웹소켓으로 구현한 웹과 하드웨어</h4> <ul><li>오프라인 실제 프로그래밍을 위해</li> <li>HW CONNECT SERVER 웹소켓으로</li> <li>아두이노  websocket 내장시켜 궈궈 ,</li></ul> <h4 id="what-s-next"><a href="#what-s-next" class="header-anchor">#</a> What’s next</h4> <ul><li><p>code analysis</p></li> <li><p>real-time letter</p></li> <li><p>10월중 open source &gt; 재밋겟당</p></li> <li><p>Canvas / SVG</p></li></ul> <h2 id="_6-jpa와-모던-자바-데이터-저장-기술"><a href="#_6-jpa와-모던-자바-데이터-저장-기술" class="header-anchor">#</a> [6] JPA와 모던 자바 데이터 저장 기술</h2> <p>slide : <a href="http://www.slideshare.net/deview/162-jpa" target="_blank">http://www.slideshare.net/deview/162-jpa</a><br></p> <ul><li>객체/관계형 데이터베이스 다름</li> <li>객체  &gt; sql에 맞게 바꾸고 넣고 등등등 하는 일들이 계속 됨.</li></ul> <h4 id="성능-최적화"><a href="#성능-최적화" class="header-anchor">#</a> 성능 최적화</h4> <ul><li><p>1차 캐시와 동일성 보장
SQL에서 가져온거 를 다시 가져오면 1차 캐시(같은 트랜젝션 안에서 보장) 에</p></li> <li><p>트랜젝션을 지원하는 쓰기 지연</p></li></ul> <ul><li>트랜젝션 커밋때까지 insert sql모음</li> <li>jdbc batch sql 기능을 사용해서 한번에 sql 전송  &gt;&gt; 알아서 최적화 해줌</li></ul> <h4 id="지연-로딩-즉시-로딩"><a href="#지연-로딩-즉시-로딩" class="header-anchor">#</a> 지연 로딩 / 즉시 로딩</h4> <ul><li>지연 로딩 : 객체가 실제 사용 될 때 로딩</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Member member = memberDao.find(memberId);
Team team = member.getTeam; &gt; select * from member
</code></pre></div><ul><li>즉시로딩 : 한방에 로딩!</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Member member = memberDao.find(memberId);
Team team = member.getTeam; &gt; select * from member join other table
</code></pre></div><h4 id="jpa-기반-프로젝트"><a href="#jpa-기반-프로젝트" class="header-anchor">#</a> JPA 기반 프로젝트</h4> <ul><li>Spring data API</li> <li>queryDSL</li></ul> <ol><li>spring data api</li></ol> <ul><li>인터페이스만 작성.</li> <li>스프링 데이터 jpa가 구현 객체를 동적(런타임에) 으로 생성 주입. 짱짱!</li> <li>paging /Sorting 도 해줌</li> <li>메소드 이름으로 추론하여 찾아줌.
— parameter로 Sort sort 넘기면 알아서
— parameter로 Pageable pageable 알아서 페이지 &gt;&gt; 두번이 날라감. find all 해오고, page 전체를 select해옴</li> <li>@Query(), jpql 도 가능 .</li> <li>Web domain class convertor도 바로 가능하다. 오오 스고이</li></ul> <ol start="2"><li>queryDSL</li></ol> <ul><li>동적 쿼리</li> <li>sql, JPQL을 코드로 작성할 수 있도록 도와주는 빌더 API</li> <li>오픈소스</li> <li>JPQL의 문제점 type-check 불가능</li></ul> <h4 id="장점"><a href="#장점" class="header-anchor">#</a> 장점</h4> <ul><li><p>문자가 아닌 코드로 작성 &gt; 컴파일 시점에 문법 오류 발경</p></li> <li><p>코드 자동완성</p></li> <li><p>제약조건은 따로 빼서 재사용 조립 가능</p></li> <li><p>데이터 베이스 변경에도 매우 유연함.</p></li></ul> <h4 id="성능-이슈"><a href="#성능-이슈" class="header-anchor">#</a> 성능 이슈</h4> <ul><li>실무에서는 즉시보다는 지연로딩이 더 나음( 한번에 하면 쿼리가 튈 확률이 높음)</li> <li>N+1문제 &gt; 대부분 페치 조인으로 해결</li> <li>내부 파서 문제가 잇을 경우 &gt; 정적 쿼리로 해결 (한번 가져온거 재사용)</li></ul> <h2 id="_7-jpa-bof"><a href="#_7-jpa-bof" class="header-anchor">#</a> [7] JPA BOF</h2> <ul><li>집에 가려고 하다가 칠판에서 보고 급 참석</li> <li>왠지 커머스 관련 개발자들이 많이 계셨음.</li> <li>평소 개발 커뮤니티에서 뵙던 연예인들이 계셨음. 신기신기</li> <li>다른 개발자들의 삽질기를 들어 보니 내가 했던 삽질과 똑같고.. 고민도 똑같아서.. 왠지
세상은 넓고 삽질은 똑같다...라는 생각이 들었음.</li> <li>아직 ORM이 많이 안쓰이고 있음을 한번 더 느낌.</li></ul> <img src="https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-xlf1/v/t1.0-9/11951322_1058166744218326_5797563996820155909_n.jpg?oh=1022963a5b412b404f4f6be60946ea05&amp;oe=569FFC80&amp;__gda__=1450081051_1cc5096bc79239c5c1dfd94b6b4f9b98"> <h1 id="day-2"><a href="#day-2" class="header-anchor">#</a> 'Day 2'</h1> <h2 id="_8-large-scale-backend-service-development-using-node-js-docker-and-aws"><a href="#_8-large-scale-backend-service-development-using-node-js-docker-and-aws" class="header-anchor">#</a> [8] Large scale backend service development using Node.js, Docker and AWS</h2> <p>slide : <a href="http://www.slideshare.net/deview/212-large-scale-backend-service-develpment" target="_blank">http://www.slideshare.net/deview/212-large-scale-backend-service-develpment</a><br></p> <ul><li>늦어서...뒤에서 서서 듣느라 필기 못함.</li> <li>성능 최적화를 통해 비용절감을 드라마틱하게 할 수 있음을 보여주심.</li> <li>게임 서버 구축 혹은 AWS를 쓰는 사람에게 정말 도움될만한 좋은 사례 발표.</li></ul> <h2 id="_9-docker-orchestration"><a href="#_9-docker-orchestration" class="header-anchor">#</a> [9] Docker Orchestration</h2> <p>slide : <a href="http://www.slideshare.net/deview/221-docker-orchestration" target="_blank">http://www.slideshare.net/deview/221-docker-orchestration</a><br></p> <h4 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h4> <ul><li>하나의 배포 서버를 다 한번에 하면 comflict 문제가 날수 잇다.</li></ul> <h4 id="배포-서비스의-고민"><a href="#배포-서비스의-고민" class="header-anchor">#</a> 배포 서비스의 고민</h4> <ul><li>커스터 마이즈를 하고 싶다.</li> <li>pakage &gt; deploy &gt; service</li> <li>서비스 상태를 관리해 주고 싶다 (history를 가지고 잇다가 rollback,deploy</li></ul> <blockquote><blockquote><p>“상태&quot;를 이미지로 배로  deploy == rollback</p></blockquote></blockquote> <h4 id="도커-주목"><a href="#도커-주목" class="header-anchor">#</a> 도커 주목</h4> <ul><li>가상머신보다 가벼운 컨테이너 &gt;&gt; 효율적 리소스 공유</li> <li>이미지단위 빌드, 배포, 롤백이 용이</li> <li>write once, run anywhere</li></ul> <p>도커 설명은 생략</p> <p>Orchestration 오케스트레이션
여러개의 컨테이너로 하나의 서비스로</p> <h4 id="why"><a href="#why" class="header-anchor">#</a> Why?</h4> <ul><li>composition 여러종류의 컨테이너로 구성된 서비스 설정 및 연동</li> <li>replication 스케일러빌리티, high availability</li> <li>write once, run anywhere 같은 이미지가 local/cluster에서 모두 동작하도록</li></ul> <h4 id="요소"><a href="#요소" class="header-anchor">#</a> 요소</h4> <ul><li>스케쥴링 ( 서비스 컨텍스트에 따라서 나눠주는거 ex) 병렬해야하는거 하나가 아니라 각각 컨테이너에게 할당 )</li> <li>컨테이너 사이/ 외부 네트워킹</li> <li>discovery - 컨테이너 찾는 방법 ex) membership , DNS ..</li> <li>로깅 모니터링 얼럿 등</li></ul> <p>Docker ecosystem 에 여러가지들이 일군 ..</p> <ul><li><p>첫 논의 docker swarm, kubernetes</p></li> <li><p>콜록콜록 9년동안 빌드 배포하면서 몸이 많이 망가짐..ㅠㅠ</p></li></ul> <h4 id="docker-swarm"><a href="#docker-swarm" class="header-anchor">#</a> docker swarm</h4> <ul><li>하나의 도커에는 좋지만 여러개의 오케스트라에는 적절치 못한것 같다</li> <li>but develop 속도가 빨라 나중에 다시 고려해볼만 하다</li></ul> <h4 id="kubernetes"><a href="#kubernetes" class="header-anchor">#</a> kubernetes</h4> <ul><li>google style의 클라우드 서비스 관리</li> <li>클러스터를 가장 빠르게 구축, 안정성 좋음</li></ul> <blockquote><blockquote><p>가장 적합</p></blockquote></blockquote> <h4 id="step-1-build-pool"><a href="#step-1-build-pool" class="header-anchor">#</a> step 1. build pool</h4> <ul><li>기존 jenkins &gt; dockerize</li> <li>기존 빌드 시스템에서 kube 서버에 도커 create 요청하게되면 docker registry 에 image를 가지고 생성</li> <li>효과</li></ul> <ol><li>fast build ( vm 보다 더 효율적이다 &gt; 빌드 자원의 공유로 고성능 빌드 가능 )</li> <li>pre built</li> <li>no management</li></ol> <h4 id="배운점"><a href="#배운점" class="header-anchor">#</a> 배운점</h4> <ul><li>컨테이너는  stateless</li> <li>이미지는 docker registry에 이미지를 계속 올린다. &gt;&gt; 백업이 제대로 되고 잇는지 확인 어려움. (직접 받아서 실행해 봐야함 )</li></ul> <blockquote><blockquote><p>Environment Variable 변경이 어려움 (ex. JAVA_HOME 을 나중에 바꾸기 힘듬 , 백개 다 받아서 다시 고쳐서 뭐 등등등)</p></blockquote></blockquote> <ul><li><p>컨테이너 데이터의 저장 방법이 필요
— 컨테이너 종료 후에도 info 들이 필요. (history)</p></li> <li><p>multi-cluster 관리가 필요하다.
— 하나 띄우고 나서 생각하자. 라고 하면 늦엉 ㅋ.ㅋ 이른 시점부터 를 고려야함.
— ex) Multi-IDC, Network ACL
— local, alpha용 .</p></li></ul> <h4 id="step-2-shipdock-shipping-docker"><a href="#step-2-shipdock-shipping-docker" class="header-anchor">#</a> step 2. ShipDock : shipping docker</h4> <ul><li>테스트 풀 확보.(기술 기반과 &quot;돌아가는 버전”)</li> <li>continuous deployment  ( 푸시 앤 빌드/디플로이 )</li> <li>PAAS 준비 (platform as a service) &gt;&gt; write once run anywhere</li></ul> <h4 id="overview"><a href="#overview" class="header-anchor">#</a> overview</h4> <p>개발자가 &gt; dogsight(UI) &gt; 빌다가 만들면 도커레지스트리에 올리고  doh에서 도커가 mamange 하다가 kube api에 침. 실제 서버 디스커버리는 nginx로</p> <h4 id="doh-도커오케스트레이션헤드쿼터"><a href="#doh-도커오케스트레이션헤드쿼터" class="header-anchor">#</a> DOH :  도커오케스트레이션헤드쿼터</h4> <ul><li>멀티 클러스터 관리( + 스케쥴링)</li></ul> <h4 id="도로시-도커-베이스-빌더"><a href="#도로시-도커-베이스-빌더" class="header-anchor">#</a> 도로시  : 도커 베이스 빌더</h4> <ul><li>인스턴스하게 도커 컨테이너 생성하여 이미지 빌드/푸시</li> <li>젠킨스보다 stateless/가볍게 빌드</li></ul> <h4 id="docksight"><a href="#docksight" class="header-anchor">#</a> Docksight</h4> <ul><li>GUI 지원.</li> <li>여러 클러스터를 지원하는 적절한 UI/CLI 음슴</li></ul> <h4 id="step3-service-cluster"><a href="#step3-service-cluster" class="header-anchor">#</a> step3. Service Cluster</h4> <ul><li>Consul</li></ul> <blockquote><p>Networking</p></blockquote> <h2 id="_10-them-simplicity-of-cluster-apps-with-the-circuit-implementing-a-job-scheduler"><a href="#_10-them-simplicity-of-cluster-apps-with-the-circuit-implementing-a-job-scheduler" class="header-anchor">#</a> [10] Them simplicity of cluster apps with the Circuit: Implementing a job scheduler</h2> <p>slide : <a href="http://www.slideshare.net/deview/231-the-simplicity-of-cluster-apps-with-circuit" target="_blank">http://www.slideshare.net/deview/231-the-simplicity-of-cluster-apps-with-circuit</a><br></p> <p>command-line</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ circuit mkproc
$ circuit stdout
$ circuit <span class="token function">wait</span>
$ circuit stderr
</code></pre></div><h4 id="system-overview"><a href="#system-overview" class="header-anchor">#</a> System Overview</h4> <ul><li>System architecture</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$ circuit start
</code></pre></div><ul><li>설킷끼리 서로 server를 찾아서 &gt;&gt; failure가 잇는지 찾고</li></ul> <blockquote><blockquote><p>각각이 api endpoint를 갖고</p> <blockquote><p>만약 호스트 A에 설킷 클라이언트가 잇으면 host B(서킷 클라이언트가 죽어잇는) 에 찔러도 Host A에서 api 를 가지고 return</p></blockquote></blockquote></blockquote> <ul><li>never fail,  bcoz of colocation</li></ul> <h4 id="go-api-overview"><a href="#go-api-overview" class="header-anchor">#</a> go API overview</h4> <ul><li>Error handling</li> <li>네트워크 다운이나 host가 죽엇다던가</li></ul> <h4 id="anchor"><a href="#anchor" class="header-anchor">#</a> Anchor</h4> <ul><li><p>클러스터 노드. single node</p></li> <li><p>children을 가지고 있음 . hierarchy</p></li> <li><p>root Anchor</p></li> <li><p>지금 available 한 앵커에서 값 return</p></li> <li><p>Proc 으로 Anchor의 state나 이런걸 떨거 줄 수 잇다?</p></li> <li><p>듣다가 범상치 않아 발표자 소개 읽어보니 지니어스.</p></li></ul> <h4 id="implementing-a-job-scheduler"><a href="#implementing-a-job-scheduler" class="header-anchor">#</a> implementing a job scheduler</h4> <ul><li>design</li> <li>user spec   : per host 얼마나 할수 잇는지</li> <li>http api server :어떤 집들이 돌고잇는지 보여줄것</li></ul> <h4 id="architect"><a href="#architect" class="header-anchor">#</a> architect</h4> <p>host A에는 스케쥴러  &gt;&gt;&gt;&gt; http api 제공
B,C에는 잡 1,2 그리고 3을 돌린다.
각 ABC에는 서킷 클라이언트가 잇음</p> <h4 id="state-and-logic"><a href="#state-and-logic" class="header-anchor">#</a> State and logic</h4> <p>유저가 job을 더한다던가 status를 보겟다는 요청이 들어오면 일단 pend 에 쌓이고
써킷이 job을 뺀다던가 호스트를 넣거나 빼거나
스케쥴러는 컨트롤러랑 connect되서 job execute</p> <ul><li>golang을 좀 공부해야겟다</li></ul> <p>컨트롤러레 실제 잡들을 넣고</p> <p>Controller state는 서킷에 의해 컨트롤 되며 job 쌓인 것들 pending 같은거 이런것도 다 관리 해주나방</p> <p>scheduler에 잡이 들어오면
클라이언트 serverId를 가지고 어디에 커넥트 해야하는지를 보고  (HOST)
스케쥴 서비스 네임을 넘겨서 (SERVICE)</p> <p>스케쥴러는 그걸 받고
일단 controller를 안락하고 jobs를 업뎃/add하고 다시 schedule()시킴.</p> <p>만약 user로 부너 status 요청이 들어오면 controller lock을 하고 ......값 리턴? (놓쳣넹)</p> <p>Run a job
jobAnchor에 work({host}, “job”, {job.name})</p> <p>github에 올라와 잇으니 한번 돌려봐야 알것다..</p> <ul><li>Universal cluster binaries
— 확장해서 master 아래에 scheduler 가 있고 그 아래에 job을 실행 할 수 있음</li></ul> <div class="language- extra-class"><pre class="language-text"><code>master
ㄴ sched1
ㄴㄴ job1
ㄴㄴ job2
ㄴ sched2
ㄴㄴ job3
</code></pre></div><p>docker image를 이용해서 하나의 master/sched/job 을 다시 circuit sever로 쌓아서 여러 host끼리 묶을 수도 잇음.</p> <ul><li><p>클라우드 시스템에서 어플리케이션 사이  share에 편하도록?</p></li> <li><p>Ship with Circuit included vs Hadoop required</p></li> <li><p>inplinciple</p></li> <li><p>새로 인프라를 띄우는게 부담스러움.</p></li> <li><p>다른 랭기지랑도 합쳐서 쓸 수 있다.</p></li> <li><p>센터 서버가 따로 음슴. &gt;&gt; 발표자는 이게 weak point라 생각 &gt;&gt; 센터가 죽으면 다 죽엉</p></li> <li><p>이건 peer to peer 컨셉으로 master가 같이 잇기때문에 어떤 host가 살앗는지 죽엇는지 서로 알수 잇음.</p></li> <li><p>아니면 그냥 세임 로직을 넣어도 댐</p></li> <li><p>master는 유머와 connect 역할만하고 마스터 죽어도 스케쥴러는 알아서 돌고 잇음.
그냥 마스터만 다시 살리면 됨.</p></li></ul> <blockquote><blockquote><p>스케쥴러가 이미 돌고 잇으면 그냥 유저에게 알려줄뿐</p></blockquote></blockquote> <ul><li>살아잇는걸 찾기위해 뭐 주키퍼라던가 이런걸 사용하지 않아도 댐</li></ul> <h2 id="_11-pesto-내부-구조-파헤치기"><a href="#_11-pesto-내부-구조-파헤치기" class="header-anchor">#</a> [11] Pesto 내부 구조 파헤치기</h2> <p>slide : <a href="http://www.slideshare.net/deview/245-presto" target="_blank">http://www.slideshare.net/deview/245-presto</a><br></p> <ul><li><p>데이터 분석 DB</p></li> <li><p>페이스북, 넷플릭스(페북다음) 드랍박스, 큐블 에어비엔비 등에서 사용중</p></li> <li><p>페북 :  하루 3만건  ( 데이터 사이언티스트 1000명이 사용중)</p></li> <li><p>넷플릭스  : 하루 2500건 /</p></li> <li><p>에어비엔비 : Airpal 이라는 presto query execution tool &gt;&gt;  open source</p></li> <li><p>안써본 사람은 잇는 사람은 잇어서 한번만 쓰는 사람은 음성 ~ 마법의 툴</p></li> <li><p>비슷 비슷 : 타조 / 임팔라</p></li></ul> <h4 id="presto"><a href="#presto" class="header-anchor">#</a> presto</h4> <div class="language- extra-class"><pre class="language-text"><code>$ presto  
$ describe
$ select
</code></pre></div><ul><li>기존 db와 비슷 like mySql</li> <li>따로 러닝 커브가 없이 업무에 바로 사용 가능</li></ul> <h4 id="장점-2"><a href="#장점-2" class="header-anchor">#</a> 장점</h4> <ul><li><p>빠르다.interactive</p></li> <li><p>기가바이트 부터 petabyte 급 도 빠르게</p></li> <li><p>hive 보다 훨씬 빠르다</p></li> <li><p>ORC 파일 reader를 쓰면 더 빠르게 대용량 처리 가능</p></li> <li><p>자바로 짜여져있고,  플러그인 작성 가능. &gt;&gt; 플러그인 작성법은 낭중에 ㅋ</p></li> <li><p>ANSI-SQL 표준 질의문을 사용</p></li> <li><p>코드 제너레이션 가능</p></li> <li><p>오픈 소스</p></li> <li><p>임팔라는 소스가 오픈되어잇지만 풀리퀘 안받는데 여기는 받음 ㅋㅋㅋㅋㅋ</p></li> <li><p>coordinator + worker (하이브랑 비슷)</p></li> <li><p>http로 rest api로 커넥트</p></li> <li><p>하이브/몽고 디비 등과 연결 가능</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>SELECT *
FROM hive.world.orders
JOIN mongo.deview.lineitem i
</code></pre></div><p>이런식으로 가능</p> <ul><li><p>기존에는 각각의 DB에서 가져온다음 어플단에서 combine해줫는데 그럴필요가 없음</p></li> <li><p>노드 사이의 전달</p></li> <li><p>(기존에는) “  ”라는 raw data가 지나갔는데 “PAGE&quot;로 컬럼 형태로 전송</p></li></ul> <h4 id="cluster-memory-manager"><a href="#cluster-memory-manager" class="header-anchor">#</a> Cluster memory manager</h4> <ul><li>메모리 상에서 처리</li></ul> <blockquote><blockquote><p>특정 쿼리가 메모리를 많이 차지할 경우 &gt;&gt; out of memory</p></blockquote></blockquote> <ul><li><p>but Presto는 메모리 매니저가 위의 경우를 magaging 함
-- General pool
-- Reseved Poool
-- system pool</p></li> <li><p>현재 실행중인 것 중에 많이 차지하는 얘가 먼저 끝나고 다른 얘들 돌도록 매니징</p></li> <li><p>코디네이터는 각초마다 워커들의 메모리를 체크해서</p></li> <li><p>내부 캐시를 통해 워커 메모리에 직접 key/value를 사용해서 올려놓고
나중에 join 해서 쓸 수 잇다고 함</p></li></ul> <h4 id="security"><a href="#security" class="header-anchor">#</a> Security</h4> <ul><li>kerveros ssl</li></ul> <h4 id="내부-기능"><a href="#내부-기능" class="header-anchor">#</a> 내부 기능</h4> <ul><li>버전이 괜춘한지 verifier</li> <li>benchmark</li> <li>query queue</li> <li>JDBC driver</li> <li>python/ruby 프레스코 클라이언트</li> <li>Presto metrics &lt; 내부 시스템 spec 확인 쉽게 해주는 툴 제공 (오픈소스)</li> <li>Event Controller 외부 시스템에서 테러나 이런 것들 등등 받을 수 있도록 &gt; 얼마만큼의 쿼리가 들어왓는지, 스텍 트레이스 등등</li></ul> <h4 id="library"><a href="#library" class="header-anchor">#</a> Library</h4> <ul><li><p>/airlift/slice</p></li> <li><p>자바의 기본 바이트 버퍼가 느리다.</p></li> <li><p>그래서 unsafe를 이용해 자체 만들어서 더 빠르게 읽어들임.</p></li> <li><p>/airlift/airlift
— 분산 시스템을 만드는 framework.</p></li> <li><p>Fastutil
— Fast Java Collection
— 큰 자바 콜렉션을  더 빠르게 처리</p></li> <li><p>ASM
— Bytecode manapulation</p></li> <li><p>그 밖에</p></li> <li><p>jdk1.8</p></li> <li><p>guice,</p></li> <li><p>guaba</p></li> <li><p>jetty</p></li> <li><p>jackson</p></li> <li><p>jersey</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>Method Variable Biding
@SqlType (“RegExp”) &gt;&gt;&gt; @SqlType(VARCHAR) Slice pattern
@SqlType (BOOLEAN) &gt;&gt; @SqlType(VARCHAR) Slice source
</code></pre></div><ul><li>자동 바인딩이 됨</li></ul> <h4 id="plugin"><a href="#plugin" class="header-anchor">#</a> Plugin</h4> <ul><li><p>데이터를 읽어 엔진에 보내주는 기능</p></li> <li><p>하이브 버젼별, postgres kafka 등등</p></li> <li><p>몽고디비는 내(발표자)가 만듬</p></li> <li><p>Raptor</p></li> <li><p>워커에 직접 orc format으로 넣어주고 그대로 빼주고</p></li> <li><p>따로 하둡을 깔 필요 없음.</p></li> <li><p>기본 하이브보다 더 빠르게 할수 잇음
— 실제 페북에서도 리얼타임 처리를 이걸로 하고 있다고 .</p></li> <li><p>mongoDB plugin 만드는 방법 demo</p></li> <li><p>타입 추가를 @JsonCreator로 더할수 잇음
ex ) 몽고 디비의 ObjectId</p></li></ul> <h4 id="future"><a href="#future" class="header-anchor">#</a> Future</h4> <ul><li>cost based optimization</li> <li>join hint</li> <li>곧 추가가 되지 않을까?</li></ul> <p>표준 질의 사용
spark 와 대비 햇을때
계속해서 안정화 되어가고 잇음.</p> <p>억단위 데이터가 잇을때 정확한 값을 안주고 근사치를 준다?</p> <h4 id="데이터-샘플링-방법"><a href="#데이터-샘플링-방법" class="header-anchor">#</a> 데이터 샘플링 방법</h4> <ol><li>실제 질의</li></ol> <ul><li>정확한 값 select * from hive.world where condition</li></ul> <ol start="2"><li>샘플링 기능 제공 ( 근사치를 뽑아주는)</li></ol> <p>하이브보다
정확성은 똑같고
스피드는 평균적으로 10배정도</p> <h2 id="_12-s2graph-a-large-scale-graph-database-with-hbase"><a href="#_12-s2graph-a-large-scale-graph-database-with-hbase" class="header-anchor">#</a> [12] S2Graph: A Large scale graph database with HBase</h2> <p>slide : <a href="http://www.slideshare.net/deview/263-s2graph-largescalegraphdatabasewithhbase2" target="_blank">http://www.slideshare.net/deview/263-s2graph-largescalegraphdatabasewithhbase2</a><br></p> <ul><li>서비스들에서 관계들을 모아 모아서</li> <li>문제점
— 데이터가 엄청 커 : 대략 관계 10억건, 사용자 2억건</li> <li>계속 유저 액티비티가 늘어남 데이터 사이즈 10억건</li> <li>업데이트 만 2억권</li> <li>계속 변화하는 데이터</li></ul> <h4 id="하고-싶엇던것"><a href="#하고-싶엇던것" class="header-anchor">#</a> 하고 싶엇던것</h4> <ul><li>바로바로 서비스에 가져다 쓸 수 있게</li> <li>친구가 좋아한건 바로바로 업뎃 되엇으면 좋겟다 ( 5분뒤 동기화 ㄴㄴ )
고로, 결과를 캐싱하면 안댐.</li></ul> <ul><li>시간순서(timestamp)가 아닌 랭킹 로직이 들어갓으면 좋겟다.</li> <li>pull strategy (차용한것 ) ( push strategy 라는것 도 잇음. 나중에 설명)</li></ul> <h4 id="before"><a href="#before" class="header-anchor">#</a> BEFORE</h4> <ul><li>원래는 각 서비스 별로 데이터 베이스가 샤딩 되어잇음.</li> <li>만약 웹툰을 좋아한 사람을 찾으려면 카카오API를 통해 친구를 얻고 웹툰 DB 또 찾아야함</li> <li>api 를 통해 하다보니 케파 문제도 잇고</li> <li>api 계속 뚤어줘야 하고 그러다 보니 개발 속도가 느려짐</li> <li>한쪽이 바뀌면 다른쪽도 바꿔야 하는 구조적 문제</li> <li>mysql를 저장하다보니 클릭이라던가 이런건 수집이 어려웟음.</li> <li>비지니스적으로 의미잇는 데이터를 insett 하지 못햇엇음.</li></ul> <h4 id="after"><a href="#after" class="header-anchor">#</a> AFTER</h4> <p>서비스앱 &gt;&gt; 다 쏴줘 &gt;&gt; S2GraphDB (stateless app servers) &gt;&gt; HBase</p> <h4 id="그래서-s2graph를-왜-만들엇는가"><a href="#그래서-s2graph를-왜-만들엇는가" class="header-anchor">#</a> 그래서 S2Graph를 왜 만들엇는가</h4> <ul><li>다른 솔루션들을 찾아보앗지만 성능 이슈/복잡도/입맛에 맞춰 바꾸기 힘듬 등</li> <li>(사내에서 일케 쓰여요) Storage as a Service + Graph API = Realtime Breatdth First Search</li> <li>단순 BFS를 빠르게 집중.</li></ul> <h4 id="왜-마이에스큐엘-안하고-그래프db왜-써"><a href="#왜-마이에스큐엘-안하고-그래프db왜-써" class="header-anchor">#</a> 왜 마이에스큐엘 안하고 그래프DB왜 써?</h4> <ul><li>성능/유지보수가 더 용이함</li> <li>사실 뒤에서 써도댐. &gt;&gt; DB 디펜던시가 음슴.</li></ul> <h4 id="추천"><a href="#추천" class="header-anchor">#</a> 추천</h4> <ul><li>Batch 로 취향이 비슷한 사람을 뽑고 &gt;&gt; S2graph에 올리면 취향이 비슷한 사람들이 반응한것들을 뽑을 수 잇음</li> <li>이 Batch 부분은 S2Graph는 완전 별개임 (S2Graph는 서빙하는 곳임)</li> <li>쿼리 타임을 어케 주느냐에 따라 다이나믹 정도가 달라질 수 잇음.( 최근순을 더 가중치를 주면 다이나믹, 최근에 가중치를 낮추면 static)</li></ul> <ul><li>similar Users는 배치지만 user-product interaction은 계속 다이나믹하게 달라지고 잇음.</li></ul> <h4 id="item-based-cf"><a href="#item-based-cf" class="header-anchor">#</a> Item-based CF</h4> <ul><li><p>batch layer가 뒤로 빠짐</p></li> <li><p>similar products 부분은 배치로</p></li> <li><p>Grouping으로 나눠서  배치 작업을 없앨 수도 있다.</p></li></ul> <h4 id="spreading-activation"><a href="#spreading-activation" class="header-anchor">#</a> Spreading Activation</h4> <p>나랑 같은 프로덕트를 반응한 사람들을 찾아서 그 사람들이 반응한 다른 product들을 뽑을 수 있다 (no batch)
마이에스큐엘의 경우 self join 때문에 성능 문제가 나오지만 hbase의 경우 성능이 좋아짐)
컨텐츠의 생명 주기가 짧을 경우 효과가 크다 ex) 뉴스</p> <ul><li>다음카카오 19개 서비스</li> <li>설득 힘들엇음 (graph로 표현 가능한지)</li> <li>object =  vertex</li> <li>Relation = Edge</li> <li>BFS가 필요하더라</li></ul> <p>####API</p> <p>####Vertex</p> <ul><li>Vertex 를 insert/delete/select 가능 (inser overide)</li> <li>key/value</li></ul> <h4 id="edge"><a href="#edge" class="header-anchor">#</a> Edge</h4> <ul><li>CRUD</li> <li>관계까지 들어간다.</li> <li>key/value</li> <li>임의의 프로퍼티 저장 가능.</li> <li>정렬이 되어잇음. 속도 보장을 위해</li></ul> <h4 id="query"><a href="#query" class="header-anchor">#</a> Query</h4> <ul><li>queryparam으로 스텝을 이루고 그 스텝들이 쿼리를 구성</li> <li>스텝을 멀티플로 지원</li> <li>사내 서비스들이 rails를 많이 쓰는데 쓰레드를 구현하기 힘들어서 concurrent 하게 오퍼레이션을 해줄 수 잇도록 만들엇다.</li> <li>pinterest도 비슷한가 쓰는데 이런 기능 음슴</li></ul> <h4 id="indices"><a href="#indices" class="header-anchor">#</a> Indices</h4> <ul><li>index 추가 가능.</li> <li>int long float string data 다 서포트</li></ul> <h4 id="결론-s2grpah는-스토리지-서비스-그래프-모델"><a href="#결론-s2grpah는-스토리지-서비스-그래프-모델" class="header-anchor">#</a> 결론 : S2Grpah는 스토리지 서비스/ 그래프 모델</h4> <p>아파치 지라프랑 다른게 몬데?
시작점 vertex를 찍고 거기에 연관된 것들을 뽑아오는것에 집중
친구가 젤 많은 사람은? 이런고 노노</p> <p>####PUSH
내가 라이크 하나할 경우 모든 친구 feed queue에 write 해야함.</p> <ul><li>select 가 빠름</li> <li>timestamp로 하기에는 좋음.</li></ul> <h4 id="pull"><a href="#pull" class="header-anchor">#</a> PULL</h4> <p>내가 라이크 해도 딱 하나만 write (post에 대해) 저장 event에 대해 update 1 번</p> <ul><li>대신 쿼리타임에 여러가지를 처리해야함</li></ul> <p>pull / push모두 지원하긴 하지만 pull이 response를
초당 2만 tps를 견딜 수 잇엇음
reponse 100ms under</p> <ul><li>기존 redis cache를 빼낼 수 잇엇음</li> <li>WAL log 를 카프카에 남겨줌</li></ul> <blockquote><blockquote><p>데이터 분석가한것들이 S2Graph에 들어감</p></blockquote></blockquote> <h4 id="오픈소스"><a href="#오픈소스" class="header-anchor">#</a> 오픈소스</h4> <ul><li>벌크 로더도 오픈소스</li></ul> <h4 id="ab-테스트"><a href="#ab-테스트" class="header-anchor">#</a> AB 테스트</h4> <p>Edge 그래프가 지원되어서 사내에서 사용중</p> <ul><li>어떤 쿼리가 어떤 노출되엇고 어떤게 클릭이 되엇는지 그래프 그려줌</li> <li>서비스에서는 edge 인서트만 해주면 됨.only</li></ul> <h4 id="s2graph-internal"><a href="#s2graph-internal" class="header-anchor">#</a> S2Graph internal</h4> <ul><li>예전 발표를 한번 보자.</li></ul> <h4 id="성능"><a href="#성능" class="header-anchor">#</a> 성능</h4> <ul><li>거의 디폴트의 hBase 사용</li> <li>열악한 환경의 서비스</li></ul> <blockquote><blockquote><p>벤치마크 천개의 컬럼 1억 row  퍼포먼스 결과</p></blockquote></blockquote> <ul><li>ex. 친구 100명에 10명씩  43ms</li></ul> <h4 id="linear-스케일러블"><a href="#linear-스케일러블" class="header-anchor">#</a> linear 스케일러블</h4> <ul><li>쿼리 스텝이 늘어나도 성능 차이가 없다</li> <li>모든 데이터를 모으고 추천을 편히 해주고 싶다.</li></ul> <p>####벤치마크 툴</p> <ul><li>nglinder</li></ul> <ul><li>뭔가 말할려다가 더이상의 설명은 생략한다</li></ul> <h4 id="그래프db"><a href="#그래프db" class="header-anchor">#</a> 그래프DB</h4> <ul><li>orientDB? 100억건 넣어봤더니 느령.. insert가 오래걸리나보네.
** 실제로 어떤게 그사람들에게 노출되엇는지도 저장중.
**  샤딩 보다는 linear 스케일러빌리티</li></ul> <h4 id="쿼리-리밋"><a href="#쿼리-리밋" class="header-anchor">#</a> 쿼리 리밋</h4> <ul><li>성능상 갱장히 중요</li> <li>BMT 미리 검수를 한다 b4</li> <li>paging를 추천함</li></ul> <h3 id="개인-느낀점"><a href="#개인-느낀점" class="header-anchor">#</a> 개인 느낀점</h3> <p>아쉬웠던 점부터 공유하자면..
4개의 트랙이 동시진행 되다보니 듣고 싶어도 못들을 세션들이 좀 있다 ㅠ.ㅠ
아파치 스팍 관련이라던가 swift 프로그래밍, 로봇, pinpoint, 추천 등등. 참관하신 다른 분들의 이야기만 들어도 흥미진진한 발표들이 참 많았다.
그리고 머신러닝, 빅데이터, 추천은 역시 큰 화두였는데.. 그에 비해 내가 아는 빅데이터는 너무 초보적이여서..편식하며 듣지 않았나 싶다.
또, 부스들이 다양하지 못했다. 그동안 다른 컨퍼런스에서 보았던 다양한 기술 커뮤니티들이 없어서 조금 아쉬웠다.</p> <p>당장 써먹어봐야겠다! 했던 것은..
우선 최근 가장 많이 사용하고 있는 <a href="#article4">React 관련</a>. React 세션에서는 &quot;리액트&quot;에 대한 기술 뿐만 아니라 함께 사용되는 Babel, Hot module replacement 와 같은
같이 쓸만한 기술들을 소개해 준 부분이 정말 좋았다. 생산성을 크게 올릴 수 있을 것 같다!
또한 <a href="#article6">JPA 세션</a>을 통해 알게 된 성능최적화/지연로딩 즉시로딩 등. 앞으로 jpa를 쓸 때 좀 더 꼼꼼히 생각해볼 수 있을 것 같다.</p> <p>기억에 남는 세션은 <a href="#article10">Circuit</a>이였다.
서킷 클라이언트들의 P2P 네트워크와 마스터-스케쥴러-잡의 역할 등이 기존 내가 생각하던 시스템 아키텍쳐와는 달라 정말 신선했다!
고랭이 항상 관심은 있지만 차일피일 미뤄오고 있었는데, 서킷 써보기 위해 고랭을 공부해볼까 한다.
아직 공개된 demo 에 대한 문서화가 완료되지 않았다고 하는데, 얼른 보고싶다!</p> <p>발표 중 인상깊었던 경험 공유는 <a href="#article2">네이버 효과툰 구현 발표</a>에서 임대현님 이였다.
2011년 데뷰 참석 때 감명받으시고 저 자리에 서보고 싶다 라고 꿈꾸셨는데 2015년 드디어 그 자리에 섰다는 이야기였다.
개인적으로는 <a href="http://devon.daum.net/2012/" target="_blank">2012년 DevOn</a>을 보며 아 저 회사 참 좋다. 나도 저 멋진 개발자들과 함께 일해보고 싶다! 라고 생각했는데 정말 입사하여 <a href="http://devon.daum.net/2013/#!/" target="_blank">2013년 DevOn</a>때 자원봉사활동으로 참가했었다 ㅎㅎ
완전히 같지는 않지만 비슷한(?) 감회를 느껴봐서 그런지 더 와닿았다. 언젠간 나도 저런 자리에 서 볼 수 있지 않을까?ㅎㅎ 과연ㅋㅋ</p> <p>짧았던 이틀동안 많은 경험을 공유받았고 자극도 많이 받았다! 좋은 컨퍼런스 참관할 수 있게 도움 준 주변 많은 분들께 감사드리며 글을 마치겠다.</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#_1-네이버-효과툰은-어떻게-만들어졌나" title="[1] 네이버 효과툰은 어떻게 만들어졌나?">[1] 네이버 효과툰은 어떻게 만들어졌나?</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#서비스-런칭까지" title="서비스 런칭까지">서비스 런칭까지</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_2-네이버-효과툰-구현-이야기" title="[2] 네이버 효과툰 구현 이야기">[2] 네이버 효과툰 구현 이야기</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#외부-모듈-사용하여-개발할때의-이슈" title="외부 모듈 사용하여 개발할때의 이슈">외부 모듈 사용하여 개발할때의 이슈</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#unit-test" title="unit test">unit test</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#test" title="test">test</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#뷰어-이슈" title="뷰어 이슈">뷰어 이슈</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_3-packetbeat-과-elasticsearch-를-이용한-실시간-모니터링" title="[3] Packetbeat 과 Elasticsearch 를 이용한 실시간 모니터링">[3] Packetbeat 과 Elasticsearch 를 이용한 실시간 모니터링</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_4-react-everywhere" title="[4] React Everywhere">[4] React Everywhere</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_5-웹-브라우저-감옥에서-살아남기" title="[5] 웹 브라우저 감옥에서 살아남기">[5] 웹 브라우저 감옥에서 살아남기</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_6-jpa와-모던-자바-데이터-저장-기술" title="[6] JPA와 모던 자바 데이터 저장 기술">[6] JPA와 모던 자바 데이터 저장 기술</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_7-jpa-bof" title="[7] JPA BOF">[7] JPA BOF</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_8-large-scale-backend-service-development-using-node-js-docker-and-aws" title="[8] Large scale backend service development using Node.js, Docker and AWS">[8] Large scale backend service development using Node.js, Docker and AWS</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_9-docker-orchestration" title="[9] Docker Orchestration">[9] Docker Orchestration</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_10-them-simplicity-of-cluster-apps-with-the-circuit-implementing-a-job-scheduler" title="[10] Them simplicity of cluster apps with the Circuit: Implementing a job scheduler">[10] Them simplicity of cluster apps with the Circuit: Implementing a job scheduler</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_11-pesto-내부-구조-파헤치기" title="[11] Pesto 내부 구조 파헤치기">[11] Pesto 내부 구조 파헤치기</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_12-s2graph-a-large-scale-graph-database-with-hbase" title="[12] S2Graph: A Large scale graph database with HBase">[12] S2Graph: A Large scale graph database with HBase</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#개인-느낀점" title="개인 느낀점">개인 느낀점</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/jiyeonseo" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="https://twitter.com/seojeee" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-3d9deeb8><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8>Copyright © Jiyeon Seo 2020</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ca882463.js" defer></script><script src="/assets/js/4.d48376ce.js" defer></script><script src="/assets/js/1.a7328d07.js" defer></script><script src="/assets/js/43.e741fcb4.js" defer></script>
  </body>
</html>
