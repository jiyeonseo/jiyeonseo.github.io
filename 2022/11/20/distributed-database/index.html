<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>분산 데이터베이스란 | Daily Log</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicons/favicon-16x16.png">
    <link rel="shortcut icon" href="../assets/favicons/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://jiyeonseo.github.io/rss.xml" title="Daily Log RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://jiyeonseo.github.io/feed.atom" title="Daily Log Atom Feed">
    <link rel="alternate" type="application/json" href="https://jiyeonseo.github.io/feed.json" title="Daily Log JSON Feed">
    <meta name="description" content="CockroachDB 블로그 글 &quot;What is a distributed database and how do they work?&quot; 을 보며 요약한 내용입니다.
 ...">
    
    <link rel="preload" href="/assets/css/0.styles.d9e965bb.css" as="style"><link rel="preload" href="/assets/js/app.ca882463.js" as="script"><link rel="preload" href="/assets/js/4.d48376ce.js" as="script"><link rel="preload" href="/assets/js/1.a7328d07.js" as="script"><link rel="preload" href="/assets/js/116.1b44155e.js" as="script"><link rel="prefetch" href="/assets/js/100.20349d4f.js"><link rel="prefetch" href="/assets/js/101.337c7ac5.js"><link rel="prefetch" href="/assets/js/102.df0c3b4c.js"><link rel="prefetch" href="/assets/js/103.9ab2bce5.js"><link rel="prefetch" href="/assets/js/104.a8cfe2ac.js"><link rel="prefetch" href="/assets/js/105.fbf41c7d.js"><link rel="prefetch" href="/assets/js/106.137693c5.js"><link rel="prefetch" href="/assets/js/107.7b67094d.js"><link rel="prefetch" href="/assets/js/108.9c79596c.js"><link rel="prefetch" href="/assets/js/109.8f827ec6.js"><link rel="prefetch" href="/assets/js/11.266ec168.js"><link rel="prefetch" href="/assets/js/110.d3557852.js"><link rel="prefetch" href="/assets/js/111.037463d3.js"><link rel="prefetch" href="/assets/js/112.71dfe16b.js"><link rel="prefetch" href="/assets/js/113.98586e30.js"><link rel="prefetch" href="/assets/js/114.b61c2291.js"><link rel="prefetch" href="/assets/js/115.013a015b.js"><link rel="prefetch" href="/assets/js/117.ba320cb6.js"><link rel="prefetch" href="/assets/js/118.bce8c1cf.js"><link rel="prefetch" href="/assets/js/119.4cfe496d.js"><link rel="prefetch" href="/assets/js/12.8f3a6060.js"><link rel="prefetch" href="/assets/js/120.df3465f8.js"><link rel="prefetch" href="/assets/js/121.2ab0ab3e.js"><link rel="prefetch" href="/assets/js/122.e84ca54f.js"><link rel="prefetch" href="/assets/js/123.c7c4409a.js"><link rel="prefetch" href="/assets/js/124.07b6783e.js"><link rel="prefetch" href="/assets/js/125.b1701c7a.js"><link rel="prefetch" href="/assets/js/126.0d92253e.js"><link rel="prefetch" href="/assets/js/127.007a575d.js"><link rel="prefetch" href="/assets/js/13.9ff4ae05.js"><link rel="prefetch" href="/assets/js/14.215024b0.js"><link rel="prefetch" href="/assets/js/15.0ff47d16.js"><link rel="prefetch" href="/assets/js/16.37e6c0ed.js"><link rel="prefetch" href="/assets/js/17.cbba4f66.js"><link rel="prefetch" href="/assets/js/18.b7e71dfe.js"><link rel="prefetch" href="/assets/js/19.c4464fe9.js"><link rel="prefetch" href="/assets/js/2.f8783da8.js"><link rel="prefetch" href="/assets/js/20.2dc08191.js"><link rel="prefetch" href="/assets/js/21.ff5f7b06.js"><link rel="prefetch" href="/assets/js/22.661f2a84.js"><link rel="prefetch" href="/assets/js/23.cf29033a.js"><link rel="prefetch" href="/assets/js/24.dd6f5bc6.js"><link rel="prefetch" href="/assets/js/25.9d7bdc46.js"><link rel="prefetch" href="/assets/js/26.3b8d6e0b.js"><link rel="prefetch" href="/assets/js/27.80928391.js"><link rel="prefetch" href="/assets/js/28.58a77b17.js"><link rel="prefetch" href="/assets/js/29.7f8113cb.js"><link rel="prefetch" href="/assets/js/3.487971c8.js"><link rel="prefetch" href="/assets/js/30.48f0ed8a.js"><link rel="prefetch" href="/assets/js/31.832b04d7.js"><link rel="prefetch" href="/assets/js/32.f05f003a.js"><link rel="prefetch" href="/assets/js/33.f9295acc.js"><link rel="prefetch" href="/assets/js/34.a80db534.js"><link rel="prefetch" href="/assets/js/35.abe84c23.js"><link rel="prefetch" href="/assets/js/36.4edabe0d.js"><link rel="prefetch" href="/assets/js/37.e7cfc869.js"><link rel="prefetch" href="/assets/js/38.aa1064e1.js"><link rel="prefetch" href="/assets/js/39.06859e09.js"><link rel="prefetch" href="/assets/js/40.7969b128.js"><link rel="prefetch" href="/assets/js/41.7daa36db.js"><link rel="prefetch" href="/assets/js/42.0b1c5b61.js"><link rel="prefetch" href="/assets/js/43.e741fcb4.js"><link rel="prefetch" href="/assets/js/44.212dc972.js"><link rel="prefetch" href="/assets/js/45.c68048f8.js"><link rel="prefetch" href="/assets/js/46.114afb81.js"><link rel="prefetch" href="/assets/js/47.862c6e14.js"><link rel="prefetch" href="/assets/js/48.c9b2f074.js"><link rel="prefetch" href="/assets/js/49.e7114482.js"><link rel="prefetch" href="/assets/js/5.bcd1442f.js"><link rel="prefetch" href="/assets/js/50.f467528a.js"><link rel="prefetch" href="/assets/js/51.f821ca96.js"><link rel="prefetch" href="/assets/js/52.649435a5.js"><link rel="prefetch" href="/assets/js/53.5b8dc67a.js"><link rel="prefetch" href="/assets/js/54.a0ca167c.js"><link rel="prefetch" href="/assets/js/55.3c3380f0.js"><link rel="prefetch" href="/assets/js/56.18549872.js"><link rel="prefetch" href="/assets/js/57.e19ed683.js"><link rel="prefetch" href="/assets/js/58.79fe55f7.js"><link rel="prefetch" href="/assets/js/59.4db8e029.js"><link rel="prefetch" href="/assets/js/6.49ca5872.js"><link rel="prefetch" href="/assets/js/60.9abd3c2e.js"><link rel="prefetch" href="/assets/js/61.e63ac9bb.js"><link rel="prefetch" href="/assets/js/62.6e924a53.js"><link rel="prefetch" href="/assets/js/63.9f33542a.js"><link rel="prefetch" href="/assets/js/64.38c313d2.js"><link rel="prefetch" href="/assets/js/65.fcfcf532.js"><link rel="prefetch" href="/assets/js/66.5012f3db.js"><link rel="prefetch" href="/assets/js/67.5b57b6b4.js"><link rel="prefetch" href="/assets/js/68.d99d5845.js"><link rel="prefetch" href="/assets/js/69.8107e489.js"><link rel="prefetch" href="/assets/js/7.a66f6791.js"><link rel="prefetch" href="/assets/js/70.27161263.js"><link rel="prefetch" href="/assets/js/71.761b94a6.js"><link rel="prefetch" href="/assets/js/72.531ebc5e.js"><link rel="prefetch" href="/assets/js/73.2c4b9c38.js"><link rel="prefetch" href="/assets/js/74.f50e9025.js"><link rel="prefetch" href="/assets/js/75.95a579c0.js"><link rel="prefetch" href="/assets/js/76.54cac59a.js"><link rel="prefetch" href="/assets/js/77.43aab426.js"><link rel="prefetch" href="/assets/js/78.f19c6ed1.js"><link rel="prefetch" href="/assets/js/79.5758ad17.js"><link rel="prefetch" href="/assets/js/8.b2bf099e.js"><link rel="prefetch" href="/assets/js/80.9a393ba1.js"><link rel="prefetch" href="/assets/js/81.53c49996.js"><link rel="prefetch" href="/assets/js/82.b94db98b.js"><link rel="prefetch" href="/assets/js/83.44f7bcdf.js"><link rel="prefetch" href="/assets/js/84.38740eee.js"><link rel="prefetch" href="/assets/js/85.75d98f53.js"><link rel="prefetch" href="/assets/js/86.cbe5c682.js"><link rel="prefetch" href="/assets/js/87.91edfd8c.js"><link rel="prefetch" href="/assets/js/88.a414f2e3.js"><link rel="prefetch" href="/assets/js/89.a0e02dc8.js"><link rel="prefetch" href="/assets/js/90.8df0fa19.js"><link rel="prefetch" href="/assets/js/91.30c58ca2.js"><link rel="prefetch" href="/assets/js/92.41dc4428.js"><link rel="prefetch" href="/assets/js/93.4dac8c5f.js"><link rel="prefetch" href="/assets/js/94.6f998976.js"><link rel="prefetch" href="/assets/js/95.fa78735e.js"><link rel="prefetch" href="/assets/js/96.46ebbc99.js"><link rel="prefetch" href="/assets/js/97.b91d70bf.js"><link rel="prefetch" href="/assets/js/98.08cf1b1d.js"><link rel="prefetch" href="/assets/js/99.f184a890.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.b53dac77.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9e965bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Daily Log </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/about.html" class="nav-link">About Me</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Daily Log </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/about.html" class="nav-link">About Me</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        분산 데이터베이스란
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2022-11-20T00:00:00.000Z">
      2022-11-20
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/distributed-database" data-v-42ccfcd5><span data-v-42ccfcd5>distributed-database</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p><a href="https://www.cockroachlabs.com/blog/what-is-a-distributed-database/#what-is-a-distributed-database" target="_blank" rel="noopener noreferrer">CockroachDB 블로그 글 &quot;What is a distributed database and how do they work?&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 을 보며 요약한 내용입니다.</p> <hr> <h2 id="분산-데이터베이스란"><a href="#분산-데이터베이스란" class="header-anchor">#</a> 분산 데이터베이스란</h2> <ul><li>단일 시스템이 아닌 여러 시스템에 걸쳐 실행되고 저장되는 데이터베이스.</li> <li>일반적으로, 두개 이상의 서버에서 작동하며 각각을 &quot;인스턴스&quot; 혹은 &quot;노드&quot;라 한다.</li></ul> <h2 id="용도"><a href="#용도" class="header-anchor">#</a> 용도</h2> <h3 id="_1-복원력-resilience-향상과-위험-줄이기"><a href="#_1-복원력-resilience-향상과-위험-줄이기" class="header-anchor">#</a> 1) 복원력(<strong>resilience</strong>) 향상과 위험 줄이기</h3> <ul><li>장애, 시스템 점검 등으로 인해 한 인스턴스가 오프라인으로 가더라도 <strong>다른 인스턴스를 이용하여 서비스가 중단되지 않을 수 있다.</strong></li> <li>무중단이 중요한 비지니스에서 자주 사용됨</li></ul> <h3 id="_2-확장-용이성"><a href="#_2-확장-용이성" class="header-anchor">#</a> 2) 확장 용이성</h3> <ul><li>단일 인스턴스인 경우, 갑자기 스토리지나 컴퓨팅 파워 확장이 필요한 경우, 하드웨어 업그레이드 방법을 써야하는데 이때 비용이 매우 비싸다.</li> <li>분산 데이터베이스는 <strong>인스턴스 혹은 노드 추가만으로도 확장이 가능.</strong> <ul><li>분산 서버리스 데이터베이스에서는 완전 자동화까지도 가능</li></ul></li></ul> <h3 id="_3-더-나은-성능"><a href="#_3-더-나은-성능" class="header-anchor">#</a> 3) 더 나은 성능</h3> <ul><li>단일 머신의 경우, read/write가 몰릴 경우 병목 현상이 나타날 수 있지만, 분산 데이터베이스 같은 경우 <strong>여러 인스턴스 간에 부하를 분산시킬 수 있음.</strong></li></ul> <h3 id="_4-지리적-분산으로-레이턴시-단축"><a href="#_4-지리적-분산으로-레이턴시-단축" class="header-anchor">#</a> 4) 지리적 분산으로 레이턴시 단축</h3> <ul><li>물리적 위치 역시 분산하여 운영하는 경우, 데이터 요청와 가깝다면 더 빠르게 데이터를 사용할 수 있다.</li></ul> <h2 id="nosql-vs-분산-데이터베이스"><a href="#nosql-vs-분산-데이터베이스" class="header-anchor">#</a> NoSQL vs 분산 데이터베이스</h2> <ul><li>관계형 데이터베이스(RDB) : 1970년대.  SQL 유행. ACID 트랜잭션 보장을 위한 관계형 데이터베이스.</li> <li>하지만 인터넷의 폭팔적인 성장 -&gt; 빠르게 확장이 필요했지만 확장의 불편함. 클라우드 환경에 적합하지 않았음 -&gt; &quot;샤딩&quot; 으로 해결했지만 여전히 수동 작업과 같은 불편함이 남아있음</li> <li>NoSQL : 클라우드 네이티브, 복원력, 확장성을 제공. 대신 기존 관계형의 엄격한 스키마 적용 및 ACID 보증을 희생. 덜 구조화된 형식으로 저장.
<ul><li>기존 관계형과 비교했을 때, 데이터 일관성과 정확성에 대한 타협이 필요.</li></ul></li> <li>&quot;분산 데이터베이스&quot;는 기존 관계형 데이터베이스의 엄격한 스키마 및 ACID 보증과 함께 NoSQL과 같은 클라우드 네이티브 확장 및 복원력을 제공하는데 목표</li> <li>NoSQL은 주로 분석 및 빅데이터 부하가 많은 경우 사용</li> <li>분산 데이터베이스는 <strong>데이터 스키마 관리 및 관계형을 깰 수 없는 경우이며 가용성과 확장성이 많이 요구되는 경우</strong> 사용 -&gt; 분산 데이터베이스를 &quot;분산 트랜잭션 데이터베이스&quot;(distributed transactional database) 라고 부르기도 함.
<ul><li>기존 RDB의 파티션닝과 달리 모든 인스턴스가 동일 데이터를 들고 있는 형태</li></ul></li></ul> <h2 id="db-구성"><a href="#db-구성" class="header-anchor">#</a> DB 구성</h2> <ul><li>분산 데이터베이스의 주요 목표 중 하나는 &quot;고가용성&quot;</li> <li>즉, 항상 모든 데이터를 사용할 수 있어야 한다. 여러 물리적 인스턴스에 모두 복제되어야한다.
<ul><li>복제본을 구성하는 방법 : <code>active-passive</code> , <code>active-active</code>, <code>multi-active</code></li></ul></li></ul> <h3 id="active-passive-구성"><a href="#active-passive-구성" class="header-anchor">#</a> active - passive 구성</h3> <ul><li>모든 트래픽을 &quot;active&quot; 먼저 저장 후, replica들로 복제</li> <li>간단한 동작 원리. 하지만 병목이 생길 수 있고, replica 복제 방법에 따라 문제가 발생할 수 있음.
<ul><li>예) 노드 1 (active) - 노드 2 / 3 (passive replica) 상황에서</li> <li>즉시 동기 방법 (replicated synchronously (immediately)): replica 하나에서 쓰기가 실패할 경우. 가용성(3개의 복제본이 모두 온라인 상태여야만 쓸 수 있음) OR 일관성(업데이트가 두개의 )</li> <li>비동기 복제 방법 (replicated asynchronously):  데이터 replica 복제를 보장할 수 없다.</li></ul></li></ul> <h3 id="active-active-구성"><a href="#active-active-구성" class="header-anchor">#</a> active-active 구성</h3> <ul><li>복수의 active replica. 트래픽이 모든 replica에 라우팅됨.</li> <li>구성이 어렵고, 운영 중 중단이 발생의 경우 일관성 문제가 발생 할 수 있음. (모두 쓰기가 가능함으로)
<ul><li>예) 노드 1 (active) - 노드 2 (active) 상황에서</li> <li>노드 1 이  unique key  <code>A</code> 와 값을 받고 바로 장애로 인해 오프라인됨.</li> <li>노드 2에서 key <code>A</code> 에 대해  <code>null</code>  반환 -&gt; <code>A</code> 에 다른 값을 저장</li> <li>나중에 노드 1이 돌아왔을때 unique key <code>A</code> 에 대해 서로 다른 값을 가지고 있음</li></ul></li></ul> <h3 id="multi-active-구성"><a href="#multi-active-구성" class="header-anchor">#</a> multi-active 구성</h3> <ul><li>가용성을 위해 CockroachDB 에서 사용되는 구성</li> <li><code>active-active</code>와 비슷하게 모든 인스턴스에서 읽기 및 쓰기 가능</li> <li>consensus replication system을 이용하여 데이터 불일치 가능성을 없앰.
<ul><li>모두가 &quot;쓰기&quot; 수신 완료를 확인 한 경우에만 write commit을 함.</li></ul></li></ul> <h2 id="장단점"><a href="#장단점" class="header-anchor">#</a> 장단점</h2> <ul><li><p>장점</p> <ul><li>고가용성 (High availability) : 머신 하나가 내려가더라도 운영 가능</li> <li>확장성 (High scalability) : 인스턴스/노드 추가로 쉽게 스케일 아웃 가능</li> <li>Improved performance : 작업 병목을 분산시켜 성능 향상</li> <li>Reduced latency : 멀티 지역 배포 지원하는 경우</li></ul></li> <li><p>CockroachDB 사용하는 경우, Application에서 CDC 변경 피드를 받아볼 수도 있다.</p></li> <li><p>단점</p> <ul><li>운영 복잡성 증가 : 단일 인스턴스 DB보다 복잡. managed DBaaS 사용도 고려 가능</li> <li>높은 학습 곡선 : 기존 DB와 다른 방식으로 동작하기 때문에 학습이 필요.</li> <li>아마도 비용 : 꼭 비싸거나 꼭 싸다고 하기는 어렵다.
<ul><li>인스턴스가 여러개이기 때문에 비쌀수도 있지만</li> <li>하드웨어 스케일업이 필요한 경우, 비지니스 로직상 추천건의 트랜잭션을 손실없이 잘 처리해야하는 경우 오히려 저렴할 수 있다.</li></ul></li></ul></li> <li><p><a href="https://www.cockroachlabs.com/docs/stable/frequently-asked-questions.html#when-is-cockroachdb-a-good-choice" target="_blank" rel="noopener noreferrer">When is CockroachDB a good choice?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="cockroachdb-동작-원리"><a href="#cockroachdb-동작-원리" class="header-anchor">#</a> CockroachDB 동작 원리</h2> <ul><li>어플리케이션 관점에서는 단일 PostresQL과 매우 유사하게 동작.</li> <li>(매우 간단 버전) 데이터가 오게되면
<ul><li>내부 Distribution/Transaction layer 에서 &quot;Ranges&quot;(Data chunk)를 매핑</li> <li>Data range는 각 replica들에게 쓰여지게 된다.</li> <li>예를 들어, 3개의 노드가 있다고 했을때.
<ul><li>하나의 노드가 leaseholder가 되어 읽기 쓰기를 조정하고 나머지들은 요청을 수신한다. -&gt; 'active-passiave' 방식과 달리 모두 쓰기를 할 수 있음.</li> <li>write commit 전 모든 노드가 정확성에 동의 해야함 : Raft 알고리즘 (<a href="http://thesecretlivesofdata.com/raft/" target="_blank" rel="noopener noreferrer">Raft consensus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) 이용 -&gt; 일관성 깨지지 않음.  ('active-active'에서의 일관성 문제 일어나지 않음)</li></ul></li></ul></li></ul> <p><img src="https://user-images.githubusercontent.com/2231510/202879199-fef2a04a-ad1c-4f57-8f74-f563d3d71d45.jpeg" alt=""></p> <ul><li>동작 방식 설명 비디오 : <a href="https://www.youtube.com/watch?v=RgREEOnSKTg" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=RgREEOnSKTg<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <p>Cockroach DB를 리서치 해보니 다음과 같이 설명되고 있다.</p> <blockquote><p>&quot;<em>A cloud-native SQL database for building global, scalable cloud services that survive disasters</em>&quot;. Cockroach Labs is the company building CockroachDB, an open source, survivable, strongly consistent, scale-out SQL database.</p></blockquote> <p>어떠한 상황에서도 살아남고, 일관성을 유지하며, 스케일 아웃하는 데이터베이스.
이름 잘 지었네!</p> <h2 id="같이-읽기-좋은-글"><a href="#같이-읽기-좋은-글" class="header-anchor">#</a> 같이 읽기 좋은 글</h2> <ul><li><a href="https://velog.io/@velopert/goodbye-cockroachdb" target="_blank" rel="noopener noreferrer">내가 CockroachDB를 더 이상 사용하지 않는 이유
<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#분산-데이터베이스란" title="분산 데이터베이스란">분산 데이터베이스란</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#용도" title="용도">용도</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-복원력-resilience-향상과-위험-줄이기" title="1) 복원력(resilience) 향상과 위험 줄이기">1) 복원력(resilience) 향상과 위험 줄이기</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-확장-용이성" title="2) 확장 용이성">2) 확장 용이성</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-더-나은-성능" title="3) 더 나은 성능">3) 더 나은 성능</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-지리적-분산으로-레이턴시-단축" title="4) 지리적 분산으로 레이턴시 단축">4) 지리적 분산으로 레이턴시 단축</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#nosql-vs-분산-데이터베이스" title="NoSQL vs 분산 데이터베이스">NoSQL vs 분산 데이터베이스</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#db-구성" title="DB 구성">DB 구성</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#active-passive-구성" title="active - passive 구성">active - passive 구성</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#active-active-구성" title="active-active 구성">active-active 구성</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#multi-active-구성" title="multi-active 구성">multi-active 구성</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#장단점" title="장단점">장단점</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#cockroachdb-동작-원리" title="CockroachDB 동작 원리">CockroachDB 동작 원리</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#같이-읽기-좋은-글" title="같이 읽기 좋은 글">같이 읽기 좋은 글</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/jiyeonseo" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="https://twitter.com/seojeee" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-3d9deeb8><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8>Copyright © Jiyeon Seo 2020</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ca882463.js" defer></script><script src="/assets/js/4.d48376ce.js" defer></script><script src="/assets/js/1.a7328d07.js" defer></script><script src="/assets/js/116.1b44155e.js" defer></script>
  </body>
</html>
